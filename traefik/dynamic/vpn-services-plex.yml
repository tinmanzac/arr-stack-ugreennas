# Plex variant - copy this to vpn-services.yml if using docker-compose.plex-arr-stack.yml
# Changes from Jellyfin version: jellyfin→plex (port 32400), jellyseerr→overseerr
http:
  routers:
    sonarr:
      rule: "Host(`sonarr.yourdomain.com`)"
      entryPoints:
        - web
      service: sonarr

    radarr:
      rule: "Host(`radarr.yourdomain.com`)"
      entryPoints:
        - web
      service: radarr

    qbittorrent:
      rule: "Host(`qbit.yourdomain.com`)"
      entryPoints:
        - web
      service: qbittorrent

    prowlarr:
      rule: "Host(`prowlarr.yourdomain.com`)"
      entryPoints:
        - web
      service: prowlarr

    plex:
      rule: "Host(`plex.yourdomain.com`)"
      entryPoints:
        - web
      service: plex

    overseerr:
      rule: "Host(`overseerr.yourdomain.com`)"
      entryPoints:
        - web
      service: overseerr

    bazarr:
      rule: "Host(`bazarr.yourdomain.com`)"
      entryPoints:
        - web
      service: bazarr

    pihole:
      rule: "Host(`pihole.yourdomain.com`)"
      entryPoints:
        - web
      service: pihole

    wg:
      rule: "Host(`wg.yourdomain.com`)"
      entryPoints:
        - web
      service: wg

    uptime:
      rule: "Host(`uptime.yourdomain.com`)"
      entryPoints:
        - web
      service: uptime

    # NOTE: traefik-dashboard is configured via docker-compose.traefik.yml labels
    # (using ${TRAEFIK_DASHBOARD_AUTH} env var for auth - not possible in dynamic configs)

  services:
    sonarr:
      loadBalancer:
        servers:
          - url: "http://192.168.100.3:8989"

    radarr:
      loadBalancer:
        servers:
          - url: "http://192.168.100.3:7878"

    qbittorrent:
      loadBalancer:
        servers:
          - url: "http://192.168.100.3:8085"

    prowlarr:
      loadBalancer:
        servers:
          - url: "http://192.168.100.3:9696"

    plex:
      loadBalancer:
        servers:
          - url: "http://192.168.100.4:32400"

    overseerr:
      loadBalancer:
        servers:
          - url: "http://192.168.100.8:5055"

    bazarr:
      loadBalancer:
        servers:
          - url: "http://192.168.100.9:6767"

    pihole:
      loadBalancer:
        servers:
          - url: "http://192.168.100.5:80"

    wg:
      loadBalancer:
        servers:
          - url: "http://192.168.100.6:51821"

    uptime:
      loadBalancer:
        servers:
          - url: "http://192.168.100.13:3001"
